<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Index</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
</head>
<body>
<div class="container">
    <h1>Weather app</h1>
    <div class="divider"></div>
    <div class="row">
        <div class="col s4">
            <p><b>Please write down the city name so we could recommend you what to wear</b></p>
            <form th:method="get" action="#" th:action="@{/recommendation}">
                <label>
                    City
                    <i class="material-icons left">location_city</i>
                    <input type="text" name="city" class="validate" required="required" pattern="[A-Za-z0-9]{1,50}">
                </label>
                <button class="btn waves-effect waves-light" type="submit">
                    Get recommendations
                    <i class="material-icons right">send</i>
                </button>
            </form>
        </div>
        <div class="col s3"
             th:if="${weatherAndRecommendations?.weather != null}"
             th:object="${weatherAndRecommendations?.weather}"
             th:insert="~{weatherInfoFragment :: weatherInfo (weather = ${weatherAndRecommendations?.weather})}"></div>
        <div class="col s4"
             th:if="${weatherAndRecommendations?.recommendations != null}"
             th:object="${weatherAndRecommendations?.recommendations}"
             th:insert="~{recommendationsFragment :: recommendations (recommendations = ${weatherAndRecommendations?.recommendations})}">
        </div>
    </div>
</div>
</body>
</html>